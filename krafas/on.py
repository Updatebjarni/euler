from portio import *

def o(d, a):
  print "outw(%04X, %X)"%(d, a)
  outw(d, a)

def on(n):
  o(n*0x2000+0x0000+0x10, 0x1f0)
  o(n*0x2000+0x0100+0x10, 0x1f0)
  o(n*0x2000+0x0200+0x00, 0x1f0)
  o(n*0x2000+0x0300+0x08, 0x1f0)
  o(n*0x2000+0x0500+0x00, 0x1f0)
  o(n*0x2000+0x0600+0xf0, 0x1f0)
  o(n*0x2000+0x0400+0x00, 0x1f0)
  o(n*0x2000+0x0400+(0x10<<n)+1, 0x1f0)
  o(n*0x2000+0x1700+0x00, 0x1f0)
  o(n*0x2000+0x1800+0x0f, 0x1f0)

ioperm(0x1f0, 3, 1)
outb(1, 0x1f1)
inb(0x1f0)
outw(0xe000, 0x1f0)
inb(0x1f0)

on(0)
on(1)
on(2)
